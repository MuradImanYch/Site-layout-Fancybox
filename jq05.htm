<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>jQuery </title>
		<style>
			*{box-sizing:border-box}
			#container{width:900px;min-height:100vh;margin:auto;padding:30px 40px;box-shadow:0 0 10px black}
			h1{font:bold 2em Arial;color:#333}
			p{font:1em/1.5 Arial;color:#666;text-align:justify;text-indent:40px}
			#container img{width:250px;}
		</style>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	</head>
	<body>
		<div id="container">
			<section>
				<h1>Fancy Box with zoom effect</h1>
				<img src="1.jpg" />
				<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras auctor lacinia enim a rutrum. Fusce congue consectetur semper. Ut sed tortor vel dolor dictum laoreet eget eget est. Vivamus a tincidunt turpis. Curabitur bibendum lobortis ante, a sodales libero fermentum vitae. Mauris nec dictum leo, ac finibus diam. Morbi ut ex quam. Aenean et blandit lacus.
				<p>Vestibulum a sollicitudin dui. Praesent et sapien imperdiet, vulputate ante quis, aliquet nibh. Cras ultricies nibh id neque eleifend dapibus. Quisque eget eros maximus, viverra nulla id, fringilla neque. Duis efficitur rhoncus magna, in tempus nunc placerat vel. Interdum et malesuada fames ac ante ipsum primis in faucibus. Donec consectetur magna augue, in euismod odio mattis ut. Sed porttitor risus ac dui efficitur, in maximus nisi tristique. Cras faucibus lobortis tincidunt. Curabitur ac volutpat eros. Maecenas a nibh vel turpis bibendum lobortis et sit amet diam. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Duis ac volutpat dui, et consectetur eros. Suspendisse vehicula tempor nunc vitae auctor. Pellentesque tristique, sapien eu egestas fermentum, tellus tellus porta arcu, et luctus ipsum diam sed odio.</p>
			</section>
			<article>			
				<img src="2.jpg" />
				<p>Ut euismod sodales commodo. Sed id est nunc. Ut hendrerit, elit ut dictum fringilla, est nunc pharetra diam, et gravida purus massa nec massa. Duis nec efficitur tortor, vel hendrerit sapien. Duis cursus porttitor erat non dapibus. Praesent eu ultrices est. Maecenas quis magna purus. Proin dolor quam, pellentesque ut magna at, tempus congue ex. Quisque mattis turpis felis, non rutrum metus posuere at. Integer maximus tortor et ex faucibus, eget fringilla risus porta. Pellentesque et lobortis neque. Nam ac fermentum urna, at dapibus nisi. Quisque ornare ultrices massa sit amet iaculis.</p>
				<p>Donec eu porta lorem, in laoreet enim. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Donec sed felis sit amet massa interdum iaculis. Quisque scelerisque blandit feugiat. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Mauris pulvinar pretium elit nec sagittis. Vivamus odio velit, interdum vitae efficitur nec, pharetra eget dolor. Fusce placerat suscipit vestibulum. In euismod magna nisi, gravida sodales nulla feugiat nec. Quisque aliquam, nisl sit amet molestie auctor, risus urna suscipit libero, a aliquam ante diam quis lectus. Vivamus suscipit sagittis nisl, ut sagittis neque egestas in. Phasellus non tristique sem, sed dapibus lectus. Nullam ac mollis neque, vel commodo tortor. Proin dictum dictum nibh non ultrices. Proin id tortor tellus.</p>
			</article>
				<img src="3.jpg" />
				<p>Morbi rutrum ullamcorper mi, eu efficitur ligula ullamcorper et. Cras sit amet congue tortor. In hac habitasse platea dictumst. Suspendisse sit amet dignissim ipsum. Pellentesque dapibus elementum sapien, a consectetur ipsum pellentesque vitae. Nam nec risus ut massa commodo scelerisque non et felis. Donec porttitor, neque nec scelerisque maximus, nisl sem vulputate magna, ac condimentum velit sapien vel est. Cras mattis mattis fringilla. Vivamus id condimentum arcu, ac vulputate justo. Duis malesuada et dui vitae vehicula. Aliquam sodales dolor ac odio tempus, a consectetur risus iaculis. Vestibulum ut nibh metus.</p>
				<p>Morbi tempus in ex eget porttitor. Proin varius leo tellus, et varius arcu finibus ut. Integer in lacus eget urna fringilla rutrum a quis nisl. Curabitur arcu nibh, elementum sed lacus eu, molestie dignissim turpis. In tristique massa ut gravida ullamcorper. Ut quis lectus ut lectus condimentum tempus ultricies vitae nisl. In tristique luctus ex sed euismod. Maecenas vitae sagittis erat, nec pretium erat. Vestibulum ornare enim eget nisl hendrerit cursus. Fusce eget enim est. In feugiat dolor neque, id commodo sapien rutrum eu. Phasellus rutrum, nisi vel bibendum suscipit, massa augue eleifend mi, eu pharetra lorem neque sit amet tortor.</p>
			<div>
				<img src="4.jpg" />
				<p>Phasellus tincidunt condimentum mauris, sit amet porta elit. Suspendisse in eros nulla. Vivamus vestibulum in tellus in venenatis. Duis dictum lorem at tortor mattis, sed molestie risus tincidunt. Maecenas dolor arcu, tincidunt quis mi id, accumsan placerat arcu. Donec quis diam vel nibh auctor vestibulum. Etiam venenatis tincidunt ipsum, vitae suscipit justo placerat id. Praesent porta tellus convallis ligula molestie, aliquam pulvinar mauris cursus. Duis vitae enim a sem elementum tristique. Sed faucibus enim a efficitur tincidunt. Suspendisse imperdiet nisl tincidunt dignissim pellentesque.</p>
				<p>Nulla et aliquet erat. Curabitur ac diam in libero ultricies aliquam in et ipsum. Donec condimentum molestie varius. Mauris sollicitudin vehicula tortor. Phasellus tempus odio lorem, ac condimentum massa volutpat nec. Nam ut turpis et dolor varius condimentum. Donec dictum laoreet sapien sit amet vestibulum. In accumsan faucibus diam, nec commodo nulla luctus ac. Fusce iaculis, felis a fringilla ultrices, quam dolor commodo urna, in porta metus augue ac leo. Nullam pulvinar velit et nulla convallis eleifend nec eget ipsum. In urna nibh, iaculis at euismod quis, aliquet quis libero. Curabitur vitae porta diam. Sed luctus tellus tincidunt eros tempor molestie. Curabitur lacinia risus lectus, sit amet bibendum ligula imperdiet eu.</p>
			</div>
		</div>
		
		<script>
			$(document).ready(()=>{
				let images = Array.from($("img")).map(item=>item.src);
				let x = 0;
				
				$("body").append('<div id="zoom"><div><img /><button id="close">&#10799;</button><button id="prev">&#10094;</button><button id="next">&#10095;</button></div></div>');
				$("#zoom")
					.css({display: "flex", position: 'fixed', zIndex: '99', top: '0', left: '0', width: '100%', height: '100vh', background: 'rgba(0,0,0,.8)'})
					.hide()
					.click(close);
				$("#zoom>div")
					.css({ border: '10px solid #fff', background: '#fff', position:'relative', margin: 'auto'})
					.on({						
						mouseenter: function(){
							$("#prev").fadeIn(500);
							$("#next").fadeIn(500);
							if(x == 0) $("#prev").hide()
							if(x == images.length - 1) $("#next").hide()
						},
						mouseleave: function(){
							$("#prev").fadeOut();
							$("#next").fadeOut();
						}
					})
					.click(e => e.stopPropagation()); //деактивация клика на елементе;
					
				$("#zoom>div>button")
					.css({ position: 'absolute', outline: 'none', border: '1px solid #fff', borderRadius: '50%', background: '#000', color: '#fff', 'box-shadow': '1px 1px 5px black', cursor: 'pointer', zIndex: '99' })
					
				$("#close")
					.css({ top: '-20px', right: '-20px' })
					.click(close);
				
				$("#prev")
					.css({ top: '300px', left: '10px', })
					.hide()
					.click(function(){ x--; show(); });
					
				$("#next")
					.css({ top: '300px', right: '10px', })
					.hide()
					.click(function(){ x++; show(); });
				
				$("img").click(function(){
					x = $("body").find("img").index($(this));
					show();
				});
				
				function show(){
					$("#zoom").fadeIn("500");
					$("#next, #prev").fadeIn(500);
					if(x == 0) $("#prev").hide();
					if(x == images.length - 1) $("#next").hide();
										
					$("#zoom>div>img")
						.fadeOut(500, function(){
							let img = $(this)
							img
								.attr({
									"style": "",
									"src": images[x]
								})
								.on("load", function(){
									let iw = img.width();
									let ih = img.height();
									let ik = iw / ih;
									if( iw > ih ) img.animate({
											width: "800px",
											height: 800 / ik + "px"
									});
									else img.animate({
											height: "600px",
											width: 600 * ik + "px"									
									})
								})
						})
						.fadeIn("slow")
				}
				
				function close(){
					$("#zoom").fadeOut();
				}
			});
		</script>
	</body>
</html>







